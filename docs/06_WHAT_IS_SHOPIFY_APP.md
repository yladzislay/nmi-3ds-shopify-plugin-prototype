# Что такое Shopify App на самом деле?

## 1. Самое главное заблуждение
**Миф:** "Shopify плагин — это npm-пакет, который я устанавливаю в код магазина".
**Реальность:** **НЕТ.** Shopify App — это **ваше собственное веб-приложение (SaaS)**.

## 2. Как это работает физически?
Представьте, что Shopify — это iPhone. А ваше приложение — это... веб-сайт, который открывается внутри фрейма на этом iPhone.

1.  **Хостинг:** Код приложения живет **на вашем сервере** (Vercel, Fly.io, Heroku, DigitalOcean). Он НЕ живет на серверах Shopify.
2.  **Язык:** Да, **TypeScript** — это золотой стандарт. Официальный шаблон Shopify использует стек **Remix (React + Node.js)**.
3.  **Установка:** Когда владелец магазина нажимает "Установить", Shopify просто сохраняет URL вашего сервера и выдает вам Access Token.

## 3. Архитектура "Платежного Приложения"
В случае с платежами (как наш проект с NMI), архитектура еще интереснее.

### Компонент А: Backend (Ваш сервер)
*   **Стек:** Node.js, Remix, TypeScript.
*   **Роль:** Хранит секретные ключи NMI (`API Key`).
*   **Действие:** Принимает запрос от Shopify: *"Эй, юзер хочет оплатить $100. Вот данные карты (зашифрованные). Сделай с ними что-нибудь"*.

### Компонент Б: Extension (Frontend)
*   **Стек:** React, TypeScript, Shopify UI Extensions API.
*   **Роль:** Рисует поля ввода (Input) прямо в чекауте Shopify.
*   **Важно:** Этот код загружается Shopify-ем, но управляется вами.

## 4. Почему не npm пакет?
Потому что npm-пакет — это просто библиотека кода. А Shopify App должно:
1.  Хранить данные в базе данных (сессии, настройки мерчанта).
2.  Обрабатывать Webhooks (уведомления от Shopify).
3.  Выполнять безопасные запросы к банкам (Server-to-Server).

Библиотека не может этого делать. Это делает полноценный Backend.

## 5. Итого
Вам предстоит написать **Fullstack приложение** на TypeScript:
*   Frontend часть (рисует форму).
*   Backend часть (говорит с NMI).
